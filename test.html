<!DOCTYPE html>
<html lang="it">
<head>
	<title>login</title>
	<style type="text/css">
		.conteiner {
			margin:0;
 			padding:0;
 			display: flex;
			justify-content: center;
 			background: #e3e3e3;
		}
		.box{
			margin: 5%;
			height: 60%;
			width: 20%;
			background: white;
			border-radius: 3px;
			align-content: center;
			padding: 20px;
			font-family: arial;
			box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);
		}
		.imgbox{
			max-height: 200px;
			max-width: 200px;
			margin: auto;
			background-color: #e3e3e3;
			border-radius: 50%;
		}
		img{
			width: 100%;
		}
		input{
			border-radius: 3px;
			width: 100%;
			border: 1px solid #e3e3e3;
			padding: 1px;
			margin-top: 5px;	
			margin-bottom: 5px;	
		}
		button{
			border-radius: 3px;
			width: 100%;
			border: 1px solid #e3e3e3;
		}
	</style>
</head>
<body class=conteiner>
		<div class="box">
			<div class="imgbox">
				<img src="https://npm.github.io/new-docs/public/images/publishing.svg">
			</div>
			<p>
				<b>Sign in</b>
			</p>
			<p>
				<label>Email</label>
				<input type="text" id="email" name="email">
				<label>Password</label>
				<input type="password" id="password" name="password">
			</p>
			<button onclick="accedi()">Sign in</button>
		 </div>

	<script>
	function accedi(){

		var email = document.getElementById("email").value;
		var password = document.getElementById("password").value;
		var token;
		console.log("email "+email+" password "+password);

		fetch('https://reqres.in/api/login', { 
        	method: 'POST',
        	headers: {
            	'Content-Type': 'application/json',
        	},
        	body: JSON.stringify({
        	"email": email,
        	"password": password
		})})
		.then((data) => {
  			return data.json();
		})
		.then((data) => {
			console.log("DATA: "+data.token);
			 if(data.token){
				 token=data.token;
				 localStorage.setItem('email', email);
				 localStorage.setItem('token', token);
				 localStorage.setItem('password', password);
				 window.location.assign('C:\\Users\\angel\\login-page\\paginaAutenticata.html');
			 }
			 console.log("token "+token);

  		})

	};


</script>

</body>
</html>
